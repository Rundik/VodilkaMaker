(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"16d2":function(t,e,i){"use strict";var a=i("38bd"),s=i.n(a);s.a},"1b8e":function(t,e,i){},"38bd":function(t,e,i){},"49f8":function(t,e,i){var a={"./en.json":"edd4","./ru.json":"7704"};function s(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="49f8"},5066:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("section",{staticClass:"hero is-primary"},[i("div",{staticClass:"hero-head"},[i("nav",{staticClass:"navbar is-primary"},[i("div",{staticClass:"container"},[i("div",{staticClass:"navbar-brand"},[i("a",{staticClass:"navbar-item"},[i("strong",[t._v(t._s(t.$t("title")))])]),t._m(0)]),i("div",{staticClass:"navbar-menu"},[i("div",{staticClass:"navbar-end"},[i("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[i("a",{staticClass:"navbar-link"},[t._v(t._s(t.$t("lang")))]),i("div",{staticClass:"navbar-dropdown is-right"},[i("a",{staticClass:"navbar-item",on:{click:function(e){return t.changeLocale("ru")}}},[i("span",{staticClass:"flag flag-ru"}),t._v(" Русский ")]),i("a",{staticClass:"navbar-item",on:{click:function(e){return t.changeLocale("en")}}},[i("span",{staticClass:"flag flag-us"}),t._v(" English ")])])])])])])])]),i("div",{staticClass:"hero-body"},[i("div",{staticClass:"container has-text-centered"},[i("h1",{staticClass:"title"},[t._v(t._s(t.$t("title")))]),i("h2",{staticClass:"subtitle"},[t._v(t._s(t.$t("subtitle")))]),i("div",{staticClass:"badges"},t._l(t.badges,(function(t){return i("a",{key:t.link,attrs:{href:t.link}},[i("img",{attrs:{src:t.img,alt:t.alt}})])})),0)])]),i("div",{staticClass:"hero-foot"},[i("nav",{staticClass:"tabs is-boxed"},[i("div",{staticClass:"container"},[i("ul",t._l(t.tabs,(function(e,a){return i("li",{key:a,class:{"is-active":t.active===a}},[i("a",{directives:[{name:"smooth-scroll",rawName:"v-smooth-scroll"}],on:{click:function(e){return t.changeTab(a)}}},[t._v(t._s(t.$t(e.title)))])])})),0)])])])]),t._l(t.tabs,(function(e,a){return i("section",{directives:[{name:"show",rawName:"v-show",value:t.active===a,expression:"active === i"}],key:a,staticClass:"section"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"title"},[t._v(t._s(t.$t(e.title)))]),i("h2",{staticClass:"subtitle"},[t._v(t._s(t.$t(e.subtitle)))]),e.component?i(e.component,{tag:"component"}):t._e()],1)])})),i("footer",{staticClass:"footer"},[i("div",{staticClass:"content has-text-centered"},[i("p",[i("strong",[t._v(t._s(t.$t("title")))]),t._v(". The "),i("a",{attrs:{href:"https://github.com/Rundik/VodilkaMaker"}},[t._v("source code")]),t._v(" is licensed "),i("a",{attrs:{href:"http://opensource.org/licenses/mit-license.php"}},[t._v("MIT")]),t._v(". ")])])])],2)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"navbar-burger burger",attrs:{"data-target":"navbarMenuHeroA"}},[i("span"),i("span"),i("span")])}],r=(i("c975"),new a["default"]),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor"},[t.editor.image?i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-two-thirds"},[i("RegionCapturer",{ref:"capturer",attrs:{regions:t.editor.cams,filename:t.editor.filename,ratio:t.editor.ratio}})],1),i("div",{staticClass:"column"},[i("article",{staticClass:"message"},[i("div",{staticClass:"message-header"},[i("p",[t._v(t._s(t.$t("editor.cameras")))])]),i("div",{staticClass:"message-body"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("editor.ratio")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.editor.ratio,expression:"editor.ratio",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"0.1"},domProps:{value:t.editor.ratio},on:{input:function(e){e.target.composing||t.$set(t.editor,"ratio",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"buttons"},[t.editor.image?i("a",{staticClass:"button is-primary is-fullwidth",on:{click:function(e){return t.addCam({})}}},[i("p",[t._v(t._s(t.$t("editor.addCamera")))])]):t._e()]),i("div",{staticClass:"cameras"},t._l(t.editor.cams,(function(e,a){return i("div",{key:a,staticClass:"camera"},[i("div",{staticClass:"inline"},[i("span",{staticClass:"bd-color",style:{background:e.color},on:{click:function(e){return t.colorizeCam(a)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"cam.title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.title},on:{input:function(i){i.target.composing||t.$set(e,"title",i.target.value)}}}),i("button",{staticClass:"button",on:{click:function(e){return t.rmCam(a)}}},[t._v("✖️")])]),i("div",{staticClass:"inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.order,expression:"cam.order"}],staticClass:"setting-input input",attrs:{type:"number"},domProps:{value:e.order},on:{input:function(i){i.target.composing||t.$set(e,"order",i.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.x,expression:"cam.x"}],staticClass:"setting-input input",attrs:{type:"number"},domProps:{value:e.x},on:{input:function(i){i.target.composing||t.$set(e,"x",i.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.y,expression:"cam.y"}],staticClass:"setting-input input",attrs:{type:"number"},domProps:{value:e.y},on:{input:function(i){i.target.composing||t.$set(e,"y",i.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.size,expression:"cam.size"}],staticClass:"setting-input input",attrs:{type:"number"},domProps:{value:e.size},on:{input:function(i){i.target.composing||t.$set(e,"size",i.target.value)}}})])])})),0)])])])]):i("div",{staticClass:"notification is-warning"},[t._v(t._s(t.$t("editor.noImage")))])])},l=[],c=(i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("2fa7")),d=i("2f62"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"canvas",staticClass:"canvas"},[t.editor.image?i("img",{ref:"image",attrs:{src:t.editor.image}}):t._e(),t._l(t.regions,(function(e,a){return i("div",{key:a,ref:"regions",refInFor:!0,class:["region",{grabbing:parseInt(t.activeRegion)===a}],style:{width:e.size+"px",height:e.size*t.ratio+"px",top:e.y+"px",left:e.x+"px",backgroundColor:e.color},attrs:{"data-id":a}},[t._v(" "+t._s(e.title)+" ")])}))],2)},p=[],m=(i("fb6a"),i("a9e3"),{props:{regions:Array,ratio:Number,filename:String},computed:{editor:function(){return this.$deepModel("editor")}},data:function(){return{activeRegion:!1}},mounted:function(){var t=this;this.$refs.canvas.addEventListener("mouseup",(function(){t.activeRegion=!1})),this.$refs.canvas.addEventListener("mousemove",this.throttle((function(e){if(t.activeRegion){e.preventDefault();var i=t.regions[t.activeRegion];i.x=e.clientX-i.initialX,i.y=e.clientY-i.initialY;var a=t.$refs.image;i.x=i.x>=0?i.x:i.x-i.size>=a.width?a.width:0,i.y=i.y>=0?i.y:0}}),30))},watch:{regions:function(){var t=this;this.$nextTick((function(){var e=t.$refs.regions.slice(-1)[0];e&&e.addEventListener("mousedown",(function(e){var i=t.regions[e.target.getAttribute("data-id")];i.initialX=e.clientX-i.x,i.initialY=e.clientY-i.y,t.activeRegion=e.target.getAttribute("data-id")}))}))}}}),v=m,f=(i("a891"),i("2877")),g=Object(f["a"])(v,u,p,!1,null,"6b65a7e7",null),h=g.exports;function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(i,!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var _={components:{RegionCapturer:h},data:function(){return{activeCam:!1}},methods:C({},Object(d["b"])(["addCam","rmCam","colorizeCam"])),computed:{editor:function(){return this.$deepModel("editor")}}},y=_,x=(i("e1e3"),Object(f["a"])(y,o,l,!1,null,"3c36e2f4",null)),$=x.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"placer"},[t.editor.cams&&t.editor.cams.length>0?i("div",{staticClass:"columns"},[i("div",{ref:"wrapper",staticClass:"column is-two-thirds"},[i("div",{staticClass:"canvas-wrapper",style:{height:t.placer.canvasScale*t.placer.canvHeight+"px"}},[i("div",{staticClass:"canvas",style:{width:t.placer.canvWidth+"px",height:t.placer.canvHeight+"px",transform:"scale("+t.placer.canvasScale+")"}},[i("div",{staticClass:"overlay",style:{backgroundImage:t.settings.overlay.image?"url("+t.settings.overlay.image+")":""}}),t._l(t.placedCams,(function(e,a){return i("div",{key:a,staticClass:"cam",style:{width:e.t_width,height:e.t_height,left:e.t_x,top:e.t_y}},[t._v(" "+t._s(e.title)+" ")])}))],2)])]),i("div",{staticClass:"column"},[i("article",{staticClass:"message"},[i("div",{staticClass:"message-header"},[i("p",[t._v(t._s(t.$t("placer.settings")))])]),i("div",{staticClass:"message-body"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("placer.canvWidth")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.placer.canvWidth,expression:"placer.canvWidth",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"10"},domProps:{value:t.placer.canvWidth},on:{input:function(e){e.target.composing||t.$set(t.placer,"canvWidth",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("placer.canvHeight")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.placer.canvHeight,expression:"placer.canvHeight",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"10"},domProps:{value:t.placer.canvHeight},on:{input:function(e){e.target.composing||t.$set(t.placer,"canvHeight",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("placer.camSize")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.placer.size,expression:"placer.size",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"10"},domProps:{value:t.placer.size},on:{input:function(e){e.target.composing||t.$set(t.placer,"size",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("placer.padding")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.placer.padding,expression:"placer.padding",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number"},domProps:{value:t.placer.padding},on:{input:function(e){e.target.composing||t.$set(t.placer,"padding",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])])])]):i("div",{staticClass:"notification is-warning"},[t._v(" "+t._s(t.$t("placer.noCams"))+" ")])])},k=[],O=(i("d81d"),i("d3b7"),i("96cf"),{computed:{editor:function(){return this.$store.state.editor},settings:function(){return this.$store.state.settings},placedCams:function(){return this.$store.getters.placedCams},placer:function(){return this.$deepModel("placer")},adjustedCams:function(){var t=this,e=this.editor.cams,i=Math.round(e.length/2),a=this.placer.size,s=this.placer.size*this.editor.ratio,n=(this.placer.canvHeight-i*s-2*this.placer.padding)/(i-1);return e.map((function(e,r){return e.t_width="".concat(a,"px"),e.t_height="".concat(s,"px"),e.t_x="".concat(r>=i?t.placer.canvWidth-a-t.placer.padding:t.placer.padding,"px"),e.t_y="".concat(r>=i?(r-i)*s+n*(r-i)+t.placer.padding:r*s+n*r+t.placer.padding,"px"),e}))}},methods:{setCanvasScale:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$nextTick());case 2:if(this.$refs.wrapper){e.next=4;break}return e.abrupt("return");case 4:t=this.$refs.wrapper.getBoundingClientRect().width-24,this.placer.canvasScale=t/this.placer.canvWidth;case 6:case"end":return e.stop()}}),null,this)}},mounted:function(){this.setCanvasScale(),r.$on("tab-changed",this.setCanvasScale),window.addEventListener("resize",this.setCanvasScale)},beforeDestroy:function(){window.removeEventListener("resize",this.setCanvasScale),r.$off("tab-changed",this.setCanvasScale)}}),E=O,j=(i("b4ed"),Object(f["a"])(E,w,k,!1,null,"42f7ba6c",null)),P=j.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings"},[i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-parent is-vertical is-3"},[i("article",{staticClass:"tile is-child box"},[i("p",{staticClass:"title"},[t._v(t._s(t.$t("settings.importExport.title")))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("settings.importExport.subtitle")))]),i("div",{staticClass:"content"},[i("nav",{staticClass:"level"},[i("div",{staticClass:"level-item"},[i("div",{staticClass:"file"},[i("label",{staticClass:"file-label"},[i("input",{ref:"importFile",staticClass:"file-input",attrs:{type:"file",accept:".json, application/json"}}),i("span",{staticClass:"file-cta"},[i("span",{staticClass:"file-label"},[t._v(" "+t._s(t.$t("settings.importExport.importBtn"))+" ")])])])])]),i("div",{staticClass:"level-item"},[i("button",{staticClass:"button is-primary",on:{click:t.exportSettings}},[t._v(" "+t._s(t.$t("settings.importExport.exportBtn"))+" ")])])])])]),i("article",{staticClass:"tile is-child box"},[i("p",{staticClass:"title"},[t._v(t._s(t.$t("settings.filenames.title")))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("settings.filenames.subtitle")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("editor.filename")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editor.filename,expression:"editor.filename"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.editor.filename},on:{input:function(e){e.target.composing||t.$set(t.editor,"filename",e.target.value)}}})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("placer.filename")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.placer.filename,expression:"placer.filename"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.placer.filename},on:{input:function(e){e.target.composing||t.$set(t.placer,"filename",e.target.value)}}})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("settings.overlay.filename")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.overlay.filename,expression:"settings.overlay.filename"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.overlay.filename},on:{input:function(e){e.target.composing||t.$set(t.settings.overlay,"filename",e.target.value)}}})])])])]),i("article",{staticClass:"tile is-child"}),i("article",{staticClass:"tile is-child"})]),i("div",{staticClass:"tile is-parent is-vertical"},[i("article",{staticClass:"tile is-child box"},[i("p",{staticClass:"title"},[t._v(t._s(t.$t("settings.overlay.title")))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("settings.overlay.subtitle")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("settings.overlay.file")))]),i("label",{staticClass:"file-label"},[i("input",{ref:"overlayImage",staticClass:"file-input",attrs:{type:"file"}}),i("span",{staticClass:"file-cta"},[i("span",{staticClass:"file-icon"},[t._v("📁")]),i("span",{staticClass:"file-label"},[t._v(t._s(t.$t("chooseFile")))])])]),t.settings.overlay.image?i("img",{staticClass:"overlay",attrs:{src:t.settings.overlay.image,alt:"overlay"}}):t._e()])])]),i("article",{staticClass:"tile is-child box"},[i("p",{staticClass:"title"},[t._v(t._s(t.$t("settings.editor.title")))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("settings.editor.subtitle")))]),i("div",{staticClass:"select-file"},[i("div",{staticClass:"file"},[i("label",{staticClass:"file-label"},[i("input",{ref:"imagefile",staticClass:"file-input",attrs:{type:"file",accept:"image/*"}}),i("span",{staticClass:"file-cta"},[i("span",{staticClass:"file-icon"},[t._v("📁")]),i("span",{staticClass:"file-label"},[t._v(t._s(t.$t("chooseFile")))])])])]),i("code",[t._v(' ffmpeg -i "'+t._s(t.editor.filename)+'" -ss 00:00:10 -vframes 1 out.png ')]),t.editor.image?i("img",{ref:"image",attrs:{src:t.editor.image}}):t._e()])]),i("article",{staticClass:"tile is-child"})]),i("div",{staticClass:"tile is-parent is-vertical"},[i("article",{staticClass:"tile is-child box"},[i("p",{staticClass:"title"},[t._v(t._s(t.$t("settings.intro.title")))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("settings.intro.subtitle")))]),i("div",{staticClass:"field"},[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.intro.enable,expression:"settings.intro.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.intro.enable)?t._i(t.settings.intro.enable,null)>-1:t.settings.intro.enable},on:{change:function(e){var i=t.settings.intro.enable,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=null,r=t._i(i,n);a.checked?r<0&&t.$set(t.settings.intro,"enable",i.concat([n])):r>-1&&t.$set(t.settings.intro,"enable",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.settings.intro,"enable",s)}}}),t._v(" "+t._s(t.$t("settings.intro.enable"))+" ")])]),t.settings.intro.enable?i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("settings.intro.filename")))]),i("div",{staticClass:"control inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.intro.filename,expression:"settings.intro.filename"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.settings.intro.filename},on:{input:function(e){e.target.composing||t.$set(t.settings.intro,"filename",e.target.value)}}})])]):t._e()]),i("article",{staticClass:"tile is-child box"},[i("p",{staticClass:"title"},[t._v(t._s(t.$t("settings.cut.title")))]),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("settings.cut.subtitle")))]),i("div",{staticClass:"content"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("settings.cut.main")))]),i("div",{staticClass:"field is-grouped"},[i("p",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.cut.main.start,expression:"settings.cut.main.start"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("settings.cut.startTime")},domProps:{value:t.settings.cut.main.start},on:{input:function(e){e.target.composing||t.$set(t.settings.cut.main,"start",e.target.value)}}})]),i("p",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.cut.main.end,expression:"settings.cut.main.end"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("settings.cut.endTime")},domProps:{value:t.settings.cut.main.end},on:{input:function(e){e.target.composing||t.$set(t.settings.cut.main,"end",e.target.value)}}})])])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v(t._s(t.$t("settings.cut.cams")))]),i("div",{staticClass:"field is-grouped"},[i("p",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.cut.cams.start,expression:"settings.cut.cams.start"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("settings.cut.startTime")},domProps:{value:t.settings.cut.cams.start},on:{input:function(e){e.target.composing||t.$set(t.settings.cut.cams,"start",e.target.value)}}})]),i("p",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.cut.cams.end,expression:"settings.cut.cams.end"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("settings.cut.endTime")},domProps:{value:t.settings.cut.cams.end},on:{input:function(e){e.target.composing||t.$set(t.settings.cut.cams,"end",e.target.value)}}})])])])])]),i("article",{staticClass:"tile is-child"})])])])},R=[],T=(i("0d03"),{computed:{settings:function(){return this.$deepModel("settings")},exportState:function(){return this.$store.getters.exportState},editor:function(){return this.$deepModel("editor")},placer:function(){return this.$deepModel("placer")}},methods:{exportSettings:function(){this.downloadFile("vodilka_maker-".concat((new Date).getTime(),".json"),this.exportState)},importSettings:function(){var t,e,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e=this.$refs.importFile.files[0],a.next=4,regeneratorRuntime.awrap(this.readFileAsync(e));case 4:i=a.sent,t=JSON.parse(i),a.next=11;break;case 8:throw a.prev=8,a.t0=a["catch"](0),a.t0;case 11:t&&this.$store.commit("importState",t);case 12:case"end":return a.stop()}}),null,this,[[0,8]])},addOverlayImage:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return this.settings.overlay.image=null,t=this.$refs.overlayImage.files[0],e.next=4,regeneratorRuntime.awrap(this.toBase64(t));case 4:this.settings.overlay.image=e.sent;case 5:case"end":return e.stop()}}),null,this)},setEditorImage:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$refs.imagefile.files[0],e.next=3,regeneratorRuntime.awrap(this.toBase64(t));case 3:this.editor.image=e.sent;case 4:case"end":return e.stop()}}),null,this)}},mounted:function(){this.$refs.imagefile.addEventListener("change",this.setEditorImage),this.$refs.overlayImage.addEventListener("change",this.addOverlayImage),this.$refs.importFile.addEventListener("change",this.importSettings)},beforeDestroy:function(){this.$refs.imagefile.removeEventListener("change",this.setEditorImage),this.$refs.overlayImage.removeEventListener("change",this.addOverlayImage),this.$refs.importFile.removeEventListener("change",this.importSettings)}}),L=T,M=(i("7d36"),Object(f["a"])(L,S,R,!1,null,"5001b506",null)),N=M.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t.editor.cams.length>0?i("div",{staticClass:"code"},[i("div",{staticClass:"code-block"},[i("code",[t._v(t._s(t.code))])]),i("button",{staticClass:"button is-primary",on:{click:t.codeToClipboard}},[t._v(" "+t._s(t.$t("copyToClipboard"))+" ")])]):i("div",{staticClass:"notification is-warning"},[t._v(t._s(t.$t("code.noCode")))])])},A=[];i("99af"),i("a15b");function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function I(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(i,!0).forEach((function(e){Object(c["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var F={computed:I({},Object(d["c"])(["editor","placer","settings"]),{placedCams:function(){return this.$store.getters.placedCams},code:function(){var t=this;if(!this.placedCams)return!1;var e=this.settings.intro.enable?'-i "'.concat(this.settings.intro.filename,'"'):"",i=this.settings.intro.enable?"[pre];[3:v][pre]concat=n=2:v=1":"",a=this.placedCams.map((function(e,i){return"[0:v]crop=".concat(e.size,":").concat(Math.floor(e.size*t.editor.ratio),":").concat(e.x,":").concat(e.y,",scale=").concat(Math.floor(e.t_width.slice(0,-2)),"x").concat(Math.floor(e.t_height.slice(0,-2)),"[out").concat(i+1,"]")})),s=this.placedCams.map((function(t,e){return"[".concat(0===e?"1:v":"tmp"+e,"][out").concat(e+1,"] overlay=shortest=1:x=").concat(t.t_x.slice(0,-2),":y=").concat(t.t_y.slice(0,-2),"[tmp").concat(e+1,"]")})),n=["-c:v libx264 output.mp4"],r=this.settings.cut.main,o=this.settings.cut.cams,l=(r.start?"-ss ".concat(r.start):"")+(r.end?" -to ".concat(r.end):""),c=(o.start?"-ss ".concat(o.start):"")+(o.end?" -to ".concat(o.end):""),d="".concat(c,' -i "').concat(this.editor.filename,'" ').concat(l,' -i "').concat(this.placer.filename,'" -i "').concat(this.settings.overlay.filename,'" ').concat(e);return"ffmpeg ".concat(d,'\n          -filter_complex "').concat(a.join(";"),";").concat(s.join(";"),";[tmp").concat(this.placedCams.length,"][2:v]overlay=0:0").concat(i,'" ').concat(n.join(" "))}}),methods:{codeToClipboard:function(){this.copyToClipboard(this.code)}}},U=F,V=(i("16d2"),Object(f["a"])(U,z,A,!1,null,"08d14018",null)),H=V.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-calibration"},[i("div",{staticClass:"file"},[i("label",{staticClass:"file-label"},[i("input",{ref:"videfile",staticClass:"file-input",attrs:{type:"file",accept:"video/*"}}),i("span",{staticClass:"file-cta"},[i("span",{staticClass:"file-icon"},[t._v(" 📁 ")]),i("span",{staticClass:"file-label"},[t._v(" "+t._s(t.$t("chooseFile"))+" ")])])])]),i("video",{directives:[{name:"show",rawName:"v-show",value:t.videoDataURL,expression:"videoDataURL"}],ref:"videoElem",staticClass:"video",attrs:{controls:"",src:t.videoDataURL}}),i("input",{attrs:{type:"number",step:"0.1"},domProps:{value:t.currentTime},on:{input:t.setTime}}),t._v(" "+t._s(t.percentPlayed)+" ")])},W=[],Y=(i("3ca3"),i("ddb0"),i("2b3d"),i("bf2d"));function J(t,e){var i;return function(){var a=arguments,s=this;i||(t.apply(s,a),i=!0,setTimeout((function(){return i=!1}),e))}}function X(t){return t&&"object"===Object(Y["a"])(t)&&!Array.isArray(t)}function q(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];if(!i.length)return t;var s=i.shift();if(X(t)&&X(s))for(var n in s)X(s[n])?(t[n]||Object.assign(t,Object(c["a"])({},n,{})),q(t[n],s[n])):Object.assign(t,Object(c["a"])({},n,s[n]));return q.apply(void 0,[t].concat(i))}var G={methods:{getRandomColor:function(){for(var t="0123456789abcdef",e="#",i=0;i<6;i++)e+=t[Math.floor(16*Math.random())];return e},throttle:J,toBase64:function(t){return new Promise((function(e,i){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){return e(a.result)},a.onerror=function(t){return i(t)}}))},downloadFile:function(t,e){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},readFileAsync:function(t){return new Promise((function(e,i){var a=new FileReader;a.onload=function(){e(a.result)},a.onerror=i,a.readAsText(t)}))},copyToClipboard:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},K={data:function(){return{videoDataURL:!1,currentTime:0,duration:0}},computed:{percentPlayed:function(){return Math.round(100/this.duration*this.currentTime*100)/100||0}},methods:{videoInputChanged:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$refs.videfile.files[0],e.next=3,regeneratorRuntime.awrap(URL.createObjectURL(t));case 3:this.videoDataURL=e.sent;case 4:case"end":return e.stop()}}),null,this)},updateTime:J((function(){this.currentTime=Math.round(100*this.$refs.videoElem.currentTime)/100}),200),setDuration:function(){this.duration=this.$refs.videoElem.duration},setTime:function(t){this.$refs.videoElem.currentTime=t.target.value}},mounted:function(){this.$refs.videoElem.addEventListener("timeupdate",this.updateTime),this.$refs.videoElem.addEventListener("durationchange",this.setDuration),this.$refs.videfile.addEventListener("change",this.videoInputChanged)},beforeDestroy:function(){this.$refs.videoElem.removeEventListener("timeupdate",this.updateTime),this.$refs.videoElem.removeEventListener("durationchange",this.setDuration),this.$refs.videfile.removeEventListener("change",this.videoInputChanged)}},Z=K,Q=(i("588c"),Object(f["a"])(Z,B,W,!1,null,"6f6adcbf",null)),tt=Q.exports,et=(i("1b8e"),{name:"app",components:{CameraEditor:$,CameraPlacer:P,CodeGenerator:H,Settings:N,VideoTimeCalibration:tt},data:function(){return{tabs:[{title:"editor.title",subtitle:"editor.subtitle",component:$},{title:"placer.title",subtitle:"placer.subtitle",component:P},{title:"settings.title",subtitle:"settings.subtitle",component:N},{title:"code.title",subtitle:"code.subtitle",component:H}],active:0,badges:[{img:"http://hits.dwyl.io/Rundik/VodilkaMaker.svg",link:"https://github.com/Rundik/VodilkaMaker",alt:"HitCount"},{img:"https://img.shields.io/github/stars/Rundik/VodilkaMaker.svg?style=flat-square",link:"https://github.com/Rundik/VodilkaMaker/stargazers",alt:"GitHub stargazers"},{img:"https://img.shields.io/github/issues/Rundik/VodilkaMaker.svg?style=flat-square",link:"https://github.com/Rundik/VodilkaMaker/issues",alt:"GitHub issues"},{img:"https://snyk.io/test/github/Rundik/VodilkaMaker/badge.svg?style=flat-square",link:"https://snyk.io/test/github/Rundik/VodilkaMaker",alt:"Known Vulnerabilities"},{img:"https://img.shields.io/david/Rundik/VodilkaMaker?style=flat-square",link:"https://github.com/Rundik/VodilkaMaker/blob/master/package.json",alt:"Dependencies"}]}},methods:{changeLocale:function(t){this.$i18n.locale=t},changeTab:function(t){r.$emit("tab-changed"),this.active=t}},created:function(){var t=window.navigator.userLanguage||window.navigator.language;-1!==["ru","en"].indexOf(t)&&this.changeLocale(t)}}),it=et,at=(i("5c0b"),Object(f["a"])(it,s,n,!1,null,null,null)),st=at.exports,nt=(i("4e82"),i("a434"),i("ac1f"),i("466d"),i("a925"));function rt(){var t=i("49f8"),e={};return t.keys().forEach((function(i){var a=i.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var s=a[1];e[s]=t(i)}})),e}a["default"].use(nt["a"]);var ot=new nt["a"]({locale:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:rt()}),lt=i("79c4");a["default"].use(d["a"]);var ct=new d["a"].Store({state:{settings:{removeBlackBlink:!1,overlay:{filename:"borders.png",image:!1},cut:{main:{start:"",to:""},cams:{start:"",to:""},concat:{main:[],cams:[]}},intro:{enable:!1,filename:""}},editor:{cams:[],filename:"filename.mp4",image:!1,ratio:.7},placer:{filename:"main_cam.mp4",canvWidth:1920,canvHeight:1080,canvasScale:.1,size:400,padding:60}},mutations:{VUEX_DEEP_SET:lt["VUEX_DEEP_SET"],addCam:function(t,e){var i=e.title,a=void 0!==i&&i,s=e.x,n=void 0===s?0:s,r=e.y,o=void 0===r?0:r,l=e.size,c=void 0===l?400:l,d=e.color;t.editor.cams.push({title:a||"".concat(ot.t("editor.cam"),"_").concat(t.editor.cams.length),x:n,y:o,size:c,order:t.editor.cams.length,color:d||G.methods.getRandomColor(),listener:!1})},rmCam:function(t,e){t.editor.cams.splice(e,1)},colorizeCam:function(t,e){t.editor.cams[e].color=G.methods.getRandomColor()},importState:function(t,e){q(t,e)}},actions:{},getters:{placedCams:function(t){var e=Math.round(t.editor.cams.length/2),i=t.placer.size,a=t.placer.size*t.editor.ratio,s=(t.placer.canvHeight-e*a-2*t.placer.padding)/(e-1);return t.editor.cams.sort((function(t,e){return t.order-e.order})).map((function(n,r){return n.t_width="".concat(i,"px"),n.t_height="".concat(a,"px"),n.t_x="".concat(r>=e?t.placer.canvWidth-i-t.placer.padding:t.placer.padding,"px"),n.t_y="".concat(r>=e?(r-e)*a+s*(r-e)+t.placer.padding:r*a+s*r+t.placer.padding,"px"),n}))},exportState:function(t){return JSON.stringify(t,null,2)}}}),dt=(i("6597"),i("5a58")),ut=i.n(dt);a["default"].use(ut.a),a["default"].use(lt),a["default"].config.productionTip=!1,a["default"].mixin(G),new a["default"]({i18n:ot,store:ct,render:function(t){return t(st)}}).$mount("#app")},"588c":function(t,e,i){"use strict";var a=i("70af"),s=i.n(a);s.a},"5c0b":function(t,e,i){"use strict";var a=i("9c0c"),s=i.n(a);s.a},"70af":function(t,e,i){},7704:function(t){t.exports=JSON.parse('{"title":"VodilkaMaker","subtitle":"Создайте полную водилку из ваших записей экрана","lang":"Язык","copyToClipboard":"Копировать в буфер обмена","chooseFile":"Выберите файл…","editor":{"title":"Вырезать камеры","subtitle":"Вы должны выбрать все области камер игроков, которые будут использоваться в видео позже","cameras":"Камеры","addCamera":"Добавить камеру","cam":"камера","filename":"Имя файла с камерами игроков","ratio":"Соотношение сторон у камер","noImage":"Установите изображение камеры в настройках"},"placer":{"title":"Финальное размещение камер","subtitle":"Выберите места расположения камер для размещения камер","settings":"Настройки","camSize":"Размер камеры","padding":"Отступ","canvWidth":"Ширтна холста","canvHeight":"Высота холста","filename":"Имя файла главной камеры","noCams":"Вы не можете настроить размещение камер, потому что камеры не указаны"},"settings":{"title":"Настройки","subtitle":"Настройки для финального видео","importExport":{"title":"Импорт/Экспорт","subtitle":"Импорт/Экспорт текущих настроек","importBtn":"Импорт","exportBtn":"Экспорт"},"overlay":{"title":"Оверлей","subtitle":"Оверлей, который пойдет поверх финального видео","filename":"Имя файла оверлея","file":"Файл оверлея"},"cut":{"title":"Обрезать входы","subtitle":"Установить время начала и длительность входных файлов","startTime":"Время начала","endTime":"Время конца","main":"Главная камера","cams":"Камеры игроков"},"intro":{"title":"Вставить интро","subtitle":"Установите флажок, если вы хотите вставить вступительное интро в начале","enable":"Вставить интро","filename":"Имя файла интро"},"filenames":{"title":"Имена файлов","subtitle":"Установка имен всех файлов"},"editor":{"title":"Установить изображение с камер","subtitle":"Да, это верно"}},"code":{"title":"Код для Ffmpeg","subtitle":"Код, сгенерированный для ffmpeg","noCode":"Код не генерируется, потому что камеры не указаны"}}')},"7bea":function(t,e,i){},"7d36":function(t,e,i){"use strict";var a=i("7bea"),s=i.n(a);s.a},"9c0c":function(t,e,i){},a891:function(t,e,i){"use strict";var a=i("b3c3"),s=i.n(a);s.a},b3c3:function(t,e,i){},b4ed:function(t,e,i){"use strict";var a=i("c392"),s=i.n(a);s.a},c392:function(t,e,i){},e1e3:function(t,e,i){"use strict";var a=i("5066"),s=i.n(a);s.a},edd4:function(t){t.exports=JSON.parse('{"title":"VodilkaMaker","subtitle":"Create complete vodilka from your screen recordings","lang":"Language","copyToClipboard":"Copy to clipboard","chooseFile":"Choose a file…","editor":{"title":"Crop out cameras","subtitle":"You should select all the player\'s camera regions here which will be used in the sequence later","cameras":"Cameras","addCamera":"Add camera","cam":"cam","filename":"Players\' cameras footage","ratio":"Camera aspect ratio","noImage":"Set cameras image in the settings"},"placer":{"title":"Final cameras placement","subtitle":"Choose the locations for the cameras to be placed","settings":"Settings","camSize":"Cam size","padding":"Padding","canvWidth":"Canvas width","canvHeight":"Canvas height","filename":"Main camera filename","noCams":"You can\'t configure cameras placement because no cameras specified"},"settings":{"title":"Settings","subtitle":"Ajustments for the final video result","importExport":{"title":"Import/Export","subtitle":"Import/Export current settings","importBtn":"Import","exportBtn":"Export"},"overlay":{"title":"Overlay","subtitle":"Overlay that goes ons top of the final video","filename":"Overlay\'s filename","file":"Overlay image"},"cut":{"title":"Cut inputs","subtitle":"Set start and end time of input files","startTime":"Start time","endTime":"End time","main":"Main camera","cams":"Players\' cameras"},"intro":{"title":"Insert intro","subtitle":"Check the checkbox if you want to insert intro video at the beginning","enable":"Insert intro","filename":"Intro filename"},"filenames":{"title":"Set filenames","subtitle":"Set all the filenames here"},"editor":{"title":"Set cameras image","subtitle":"Yeah, that\'s right"}},"code":{"title":"Ffmpeg code","subtitle":"Code generated for the ffmpeg","noCode":"No code is generated because no cameras specified"},"videoTime":{"title":"Video time calibration","subtitle":"Find start and end times here"}}')}});
//# sourceMappingURL=app.1ef26f81.js.map